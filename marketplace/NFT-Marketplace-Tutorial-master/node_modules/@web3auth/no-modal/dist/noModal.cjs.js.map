{"version":3,"file":"noModal.cjs.js","mappings":"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","sources":["webpack://@web3auth/no-modal/webpack/bootstrap","webpack://@web3auth/no-modal/webpack/runtime/compat get default export","webpack://@web3auth/no-modal/webpack/runtime/define property getters","webpack://@web3auth/no-modal/webpack/runtime/hasOwnProperty shorthand","webpack://@web3auth/no-modal/webpack/runtime/make namespace object","webpack://@web3auth/no-modal/external commonjs2 \"@babel/runtime/helpers/defineProperty\"","webpack://@web3auth/no-modal/external commonjs2 \"@toruslabs/openlogin-jrpc\"","webpack://@web3auth/no-modal/external commonjs2 \"@web3auth/base\"","webpack://@web3auth/no-modal/external commonjs2 \"@web3auth/base-plugin\"","webpack://@web3auth/no-modal/./src/noModal.ts","webpack://@web3auth/no-modal/./src/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/defineProperty\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@toruslabs/openlogin-jrpc\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/base\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/base-plugin\");","import type { OPENLOGIN_NETWORK_TYPE } from \"@toruslabs/openlogin\";\nimport { SafeEventEmitter } from \"@toruslabs/openlogin-jrpc\";\nimport {\n  ADAPTER_EVENTS,\n  ADAPTER_NAMESPACES,\n  ADAPTER_STATUS,\n  ADAPTER_STATUS_TYPE,\n  CHAIN_NAMESPACES,\n  CONNECTED_EVENT_DATA,\n  CustomChainConfig,\n  getChainConfig,\n  IAdapter,\n  IWeb3Auth,\n  log,\n  SafeEventEmitterProvider,\n  storageAvailable,\n  UserAuthInfo,\n  UserInfo,\n  WALLET_ADAPTER_TYPE,\n  WALLET_ADAPTERS,\n  WalletInitializationError,\n  WalletLoginError,\n  Web3AuthError,\n} from \"@web3auth/base\";\nimport { IPlugin, PLUGIN_NAMESPACES } from \"@web3auth/base-plugin\";\n\nexport interface Web3AuthNoModalOptions {\n  /**\n   * Client id for web3auth.\n   * You can obtain your client id from the web3auth developer dashboard.\n   * You can set any random string for this on localhost.\n   */\n  clientId: string;\n  /**\n   * custom chain configuration for chainNamespace\n   *\n   * @defaultValue mainnet config of provided chainNamespace\n   */\n  chainConfig: Partial<CustomChainConfig> & Pick<CustomChainConfig, \"chainNamespace\">;\n\n  /**\n   * setting to true will enable logs\n   *\n   * @defaultValue false\n   */\n  enableLogging?: boolean;\n  /**\n   * setting to \"local\" will persist social login session accross browser tabs.\n   *\n   * @defaultValue \"local\"\n   */\n  storageKey?: \"session\" | \"local\";\n\n  /**\n   * sessionTime (in seconds) for idToken issued by Web3Auth for server side verification.\n   * @defaultValue 86400\n   *\n   * Note: max value can be 7 days (86400 * 7) and min can be  1 day (86400)\n   */\n  sessionTime?: number;\n  /**\n   * Web3Auth Network to use for the session & the issued idToken\n   * @defaultValue mainnet\n   */\n  web3AuthNetwork?: OPENLOGIN_NETWORK_TYPE;\n\n  /**\n   * Uses core-kit key with web3auth provider\n   * @defaultValue false\n   */\n  useCoreKitKey?: boolean;\n}\n\nconst ADAPTER_CACHE_KEY = \"Web3Auth-cachedAdapter\";\nexport class Web3AuthNoModal extends SafeEventEmitter implements IWeb3Auth {\n  readonly coreOptions: Web3AuthNoModalOptions;\n\n  public connectedAdapterName: WALLET_ADAPTER_TYPE | null = null;\n\n  public status: ADAPTER_STATUS_TYPE = ADAPTER_STATUS.NOT_READY;\n\n  public cachedAdapter: string | null = null;\n\n  protected walletAdapters: Record<string, IAdapter<unknown>> = {};\n\n  private plugins: Record<string, IPlugin> = {};\n\n  private storage: \"sessionStorage\" | \"localStorage\" = \"localStorage\";\n\n  constructor(options: Web3AuthNoModalOptions) {\n    super();\n    if (!options.clientId) throw WalletInitializationError.invalidParams(\"Please provide a valid clientId in constructor\");\n    if (options.enableLogging) log.enableAll();\n    else log.disableAll();\n    if (!options.chainConfig?.chainNamespace || !Object.values(CHAIN_NAMESPACES).includes(options.chainConfig?.chainNamespace))\n      throw WalletInitializationError.invalidParams(\"Please provide a valid chainNamespace in chainConfig\");\n    if (options.storageKey === \"session\") this.storage = \"sessionStorage\";\n    this.cachedAdapter = storageAvailable(this.storage) ? window[this.storage].getItem(ADAPTER_CACHE_KEY) : null;\n\n    this.coreOptions = {\n      ...options,\n      chainConfig: {\n        ...(getChainConfig(options.chainConfig?.chainNamespace, options.chainConfig?.chainId) || {}),\n        ...options.chainConfig,\n      },\n    };\n    this.subscribeToAdapterEvents = this.subscribeToAdapterEvents.bind(this);\n  }\n\n  get provider(): SafeEventEmitterProvider | null {\n    if (this.status === ADAPTER_STATUS.CONNECTED && this.connectedAdapterName) {\n      const adapter = this.walletAdapters[this.connectedAdapterName];\n      return adapter.provider;\n    }\n    return null;\n  }\n\n  set provider(_: SafeEventEmitterProvider | null) {\n    throw new Error(\"Not implemented\");\n  }\n\n  public async init(): Promise<void> {\n    const initPromises = Object.keys(this.walletAdapters).map((adapterName) => {\n      this.subscribeToAdapterEvents(this.walletAdapters[adapterName]);\n      // if adapter doesn't have any chain config yet thn set it based on provided namespace and chainId.\n      // if no chainNamespace or chainId is being provided, it will connect with mainnet.\n      if (!this.walletAdapters[adapterName].chainConfigProxy) {\n        const providedChainConfig = this.coreOptions.chainConfig;\n        if (!providedChainConfig.chainNamespace) throw WalletInitializationError.invalidParams(\"Please provide chainNamespace in chainConfig\");\n        this.walletAdapters[adapterName].setAdapterSettings({\n          chainConfig: providedChainConfig,\n          sessionTime: this.coreOptions.sessionTime,\n          clientId: this.coreOptions.clientId,\n          web3AuthNetwork: this.coreOptions.web3AuthNetwork,\n          useCoreKitKey: this.coreOptions.useCoreKitKey,\n        });\n      } else {\n        this.walletAdapters[adapterName].setAdapterSettings({\n          sessionTime: this.coreOptions.sessionTime,\n          clientId: this.coreOptions.clientId,\n          web3AuthNetwork: this.coreOptions.web3AuthNetwork,\n          useCoreKitKey: this.coreOptions.useCoreKitKey,\n        });\n      }\n\n      return this.walletAdapters[adapterName].init({ autoConnect: this.cachedAdapter === adapterName }).catch((e) => log.error(e));\n    });\n    this.status = ADAPTER_STATUS.READY;\n    await Promise.all(initPromises);\n  }\n\n  public configureAdapter(adapter: IAdapter<unknown>): Web3AuthNoModal {\n    this.checkInitRequirements();\n    const providedChainConfig = this.coreOptions.chainConfig;\n\n    if (!providedChainConfig.chainNamespace) throw WalletInitializationError.invalidParams(\"Please provide chainNamespace in chainConfig\");\n\n    const adapterAlreadyExists = this.walletAdapters[adapter.name];\n    if (adapterAlreadyExists) throw WalletInitializationError.duplicateAdapterError(`Wallet adapter for ${adapter.name} already exists`);\n    if (adapter.adapterNamespace !== ADAPTER_NAMESPACES.MULTICHAIN && adapter.adapterNamespace !== providedChainConfig.chainNamespace)\n      throw WalletInitializationError.incompatibleChainNameSpace(\n        `This wallet adapter belongs to ${adapter.adapterNamespace} which is incompatible with currently used namespace: ${providedChainConfig.chainNamespace}`\n      );\n\n    if (adapter.name === WALLET_ADAPTERS.WALLET_CONNECT_V2 && this.walletAdapters[WALLET_ADAPTERS.WALLET_CONNECT_V1]) {\n      throw WalletInitializationError.invalidParams(\n        \"Either one of wallet connect v2 or wallet connect v1 can be used, wallet connect v1 is already added to adapter lists.\"\n      );\n    }\n    if (adapter.name === WALLET_ADAPTERS.WALLET_CONNECT_V1 && this.walletAdapters[WALLET_ADAPTERS.WALLET_CONNECT_V2]) {\n      throw WalletInitializationError.invalidParams(\n        \"Either one of wallet connect v2 or wallet connect v1 can be used, wallet connect v2 is already added to adapter lists.\"\n      );\n    }\n\n    if (\n      adapter.adapterNamespace === ADAPTER_NAMESPACES.MULTICHAIN &&\n      adapter.currentChainNamespace &&\n      providedChainConfig.chainNamespace !== adapter.currentChainNamespace\n    ) {\n      // chainConfig checks are already validated in constructor so using typecast is safe here.\n      adapter.setAdapterSettings({ chainConfig: providedChainConfig as CustomChainConfig });\n    }\n\n    this.walletAdapters[adapter.name] = adapter;\n    return this;\n  }\n\n  public clearCache() {\n    if (!storageAvailable(this.storage)) return;\n    window[this.storage].removeItem(ADAPTER_CACHE_KEY);\n    this.cachedAdapter = null;\n  }\n\n  public async addChain(chainConfig: CustomChainConfig): Promise<void> {\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(`No wallet is connected`);\n    return this.walletAdapters[this.connectedAdapterName].addChain(chainConfig);\n  }\n\n  public async switchChain(params: { chainId: string }): Promise<void> {\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(`No wallet is connected`);\n    return this.walletAdapters[this.connectedAdapterName].switchChain(params);\n  }\n\n  /**\n   * Connect to a specific wallet adapter\n   * @param walletName - Key of the walletAdapter to use.\n   */\n  async connectTo<T>(walletName: WALLET_ADAPTER_TYPE, loginParams?: T): Promise<SafeEventEmitterProvider | null> {\n    if (!this.walletAdapters[walletName])\n      throw WalletInitializationError.notFound(`Please add wallet adapter for ${walletName} wallet, before connecting`);\n    const provider = await this.walletAdapters[walletName].connect(loginParams);\n    return provider;\n  }\n\n  async logout(options: { cleanup: boolean } = { cleanup: false }): Promise<void> {\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(`No wallet is connected`);\n    await this.walletAdapters[this.connectedAdapterName].disconnect(options);\n  }\n\n  async getUserInfo(): Promise<Partial<UserInfo>> {\n    log.debug(\"Getting user info\", this.status, this.connectedAdapterName);\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(`No wallet is connected`);\n    return this.walletAdapters[this.connectedAdapterName].getUserInfo();\n  }\n\n  async authenticateUser(): Promise<UserAuthInfo> {\n    if (this.status !== ADAPTER_STATUS.CONNECTED || !this.connectedAdapterName) throw WalletLoginError.notConnectedError(`No wallet is connected`);\n    return this.walletAdapters[this.connectedAdapterName].authenticateUser();\n  }\n\n  public async addPlugin(plugin: IPlugin): Promise<IWeb3Auth> {\n    if (this.plugins[plugin.name]) throw new Error(`Plugin ${plugin.name} already exist`);\n    if (plugin.pluginNamespace !== PLUGIN_NAMESPACES.MULTICHAIN && plugin.pluginNamespace !== this.coreOptions.chainConfig.chainNamespace)\n      throw new Error(\n        `This plugin belongs to ${plugin.pluginNamespace} namespace which is incompatible with currently used namespace: ${this.coreOptions.chainConfig.chainNamespace}`\n      );\n\n    this.plugins[plugin.name] = plugin;\n    return this;\n  }\n\n  protected subscribeToAdapterEvents(walletAdapter: IAdapter<unknown>): void {\n    walletAdapter.on(ADAPTER_EVENTS.CONNECTED, async (data: CONNECTED_EVENT_DATA) => {\n      this.status = ADAPTER_STATUS.CONNECTED;\n      this.connectedAdapterName = data.adapter;\n      this.cacheWallet(data.adapter);\n      log.debug(\"connected\", this.status, this.connectedAdapterName);\n\n      Object.values(this.plugins).map(async (plugin) => {\n        try {\n          if (!plugin.SUPPORTED_ADAPTERS.includes(data.adapter)) {\n            return;\n          }\n          await plugin.initWithWeb3Auth(this);\n          await plugin.connect();\n        } catch (error: unknown) {\n          // swallow error if connector adapter doesn't supports this plugin.\n          if ((error as Web3AuthError).code === 5211) {\n            return;\n          }\n          log.error(error);\n        }\n      });\n\n      this.emit(ADAPTER_EVENTS.CONNECTED, { ...data } as CONNECTED_EVENT_DATA);\n    });\n\n    walletAdapter.on(ADAPTER_EVENTS.DISCONNECTED, async (data) => {\n      // get back to ready state for rehydrating.\n      this.status = ADAPTER_STATUS.READY;\n      if (storageAvailable(this.storage)) {\n        const cachedAdapter = window[this.storage].getItem(ADAPTER_CACHE_KEY);\n        if (this.connectedAdapterName === cachedAdapter) {\n          this.clearCache();\n        }\n      }\n\n      log.debug(\"disconnected\", this.status, this.connectedAdapterName);\n      await Promise.all(\n        Object.values(this.plugins).map((plugin) => {\n          return plugin.disconnect().catch((error: Web3AuthError) => {\n            // swallow error if adapter doesn't supports this plugin.\n            if (error.code === 5211) {\n              return;\n            }\n            // throw error;\n            log.error(error);\n          });\n        })\n      );\n      this.connectedAdapterName = null;\n      this.emit(ADAPTER_EVENTS.DISCONNECTED, data);\n    });\n    walletAdapter.on(ADAPTER_EVENTS.CONNECTING, (data) => {\n      this.status = ADAPTER_STATUS.CONNECTING;\n      this.emit(ADAPTER_EVENTS.CONNECTING, data);\n      log.debug(\"connecting\", this.status, this.connectedAdapterName);\n    });\n    walletAdapter.on(ADAPTER_EVENTS.ERRORED, (data) => {\n      this.status = ADAPTER_STATUS.ERRORED;\n      this.clearCache();\n      this.emit(ADAPTER_EVENTS.ERRORED, data);\n      log.debug(\"errored\", this.status, this.connectedAdapterName);\n    });\n\n    walletAdapter.on(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, (data) => {\n      log.debug(\"adapter data updated\", data);\n      this.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, data);\n    });\n\n    walletAdapter.on(ADAPTER_EVENTS.CACHE_CLEAR, (data) => {\n      log.debug(\"adapter cache clear\", data);\n      if (storageAvailable(this.storage)) {\n        this.clearCache();\n      }\n    });\n  }\n\n  protected checkInitRequirements(): void {\n    if (this.status === ADAPTER_STATUS.CONNECTING) throw WalletInitializationError.notReady(\"Already pending connection\");\n    if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletInitializationError.notReady(\"Already connected\");\n    if (this.status === ADAPTER_STATUS.READY) throw WalletInitializationError.notReady(\"Adapter is already initialized\");\n  }\n\n  private cacheWallet(walletName: string) {\n    if (!storageAvailable(this.storage)) return;\n    window[this.storage].setItem(ADAPTER_CACHE_KEY, walletName);\n    this.cachedAdapter = walletName;\n  }\n}\n","export * from \"./noModal\";\n"],"names":["SafeEventEmitter","ADAPTER_EVENTS","ADAPTER_NAMESPACES","ADAPTER_STATUS","CHAIN_NAMESPACES","getChainConfig","log","storageAvailable","WALLET_ADAPTERS","WalletInitializationError","WalletLoginError","PLUGIN_NAMESPACES","ADAPTER_CACHE_KEY","Web3AuthNoModal","constructor","options","_options$chainConfig","_options$chainConfig2","_options$chainConfig3","_options$chainConfig4","_defineProperty","NOT_READY","clientId","invalidParams","enableLogging","enableAll","disableAll","chainConfig","chainNamespace","Object","values","includes","storageKey","storage","cachedAdapter","window","getItem","coreOptions","_objectSpread","chainId","subscribeToAdapterEvents","bind","provider","status","CONNECTED","connectedAdapterName","adapter","walletAdapters","_","Error","init","initPromises","keys","map","adapterName","chainConfigProxy","providedChainConfig","setAdapterSettings","sessionTime","web3AuthNetwork","useCoreKitKey","autoConnect","catch","e","error","READY","Promise","all","configureAdapter","checkInitRequirements","adapterAlreadyExists","name","duplicateAdapterError","adapterNamespace","MULTICHAIN","incompatibleChainNameSpace","WALLET_CONNECT_V2","WALLET_CONNECT_V1","currentChainNamespace","clearCache","removeItem","addChain","notConnectedError","switchChain","params","connectTo","walletName","loginParams","notFound","connect","logout","arguments","length","undefined","cleanup","disconnect","getUserInfo","debug","authenticateUser","addPlugin","plugin","plugins","pluginNamespace","walletAdapter","on","data","cacheWallet","SUPPORTED_ADAPTERS","initWithWeb3Auth","code","emit","DISCONNECTED","CONNECTING","ERRORED","ADAPTER_DATA_UPDATED","CACHE_CLEAR","notReady","setItem"],"sourceRoot":""}