{"version":3,"file":"phantomAdapter.esm.js","sources":["../src/utils.ts","../src/phantomAdapter.ts"],"sourcesContent":[null,null],"names":["poll","callback","interval","count","Promise","resolve","reject","setTimeout","done","then","res","catch","err","detectProvider","_window$solana","options","arguments","length","undefined","isPhantomAvailable","window","solana","isPhantom","isAvailable","_window$solana2","PhantomAdapter","BaseSolanaAdapter","constructor","_defineProperty","WALLET_ADAPTERS","PHANTOM","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","_wallet","off","_onDisconnect","rehydrated","status","CONNECTED","READY","emit","ADAPTER_EVENTS","DISCONNECTED","isWalletConnected","_this$_wallet","isConnected","provider","_this$phantomProvider","phantomProvider","_","Error","init","checkInitializationRequirements","WalletInitializationError","notInstalled","PhantomInjectedProvider","config","chainConfig","log","debug","autoConnect","connect","error","_this","checkConnectionRequirements","CONNECTING","adapter","handleDisconnect","_handleDisconnect","connectWithProvider","once","windowClosed","_len","args","Array","_key","apply","reason","Web3AuthError","WalletLoginError","connectionError","message","publicKey","on","ERRORED","disconnect","cleanup","disconnectSession","_this$_wallet2","disconnectionError","getUserInfo","notConnectedError","addChain","_this$phantomProvider2","checkAddChainRequirements","addChainConfig","switchChain","params","_this$phantomProvider3","checkSwitchChainRequirements","setAdapterSettings","getChainConfig","chainId","injectedProvider","setupProvider","reconnected"],"mappings":";;;;;SAEgBA,IAAIA,CAACC,QAA0C,EAAEC,QAAgB,EAAEC,KAAa,EAAA;AAC9F,EAAA,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;IACrC,IAAIH,KAAK,GAAG,CAAC,EAAE;AACbI,MAAAA,UAAU,CAAC,YAAW;AACpB,QAAA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,EAAE,CAAA;AAC7B,QAAA,IAAIO,IAAI,EAAEH,OAAO,CAACG,IAAI,CAAC,CAAA;AACvB,QAAA,IAAI,CAACA,IAAI,EACPR,IAAI,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,GAAG,CAAC,CAAC,CAChCM,IAAI,CAAEC,GAAG,IAAI;UACZL,OAAO,CAACK,GAAG,CAAC,CAAA;AACZ,UAAA,OAAOA,GAAG,CAAA;SACX,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAKN,MAAM,CAACM,GAAG,CAAC,CAAC,CAAA;OACjC,EAAEV,QAAQ,CAAC,CAAA;AACb,KAAA,MAAM;MACLG,OAAO,CAAC,KAAK,CAAC,CAAA;AACf,KAAA;AACH,GAAC,CAAC,CAAA;AACJ,CAAA;AAEO,MAAMQ,cAAc,GAAG,kBAEc;AAAA,EAAA,IAAAC,cAAA,CAAA;EAAA,IAD1CC,OAA+C,GAAAC,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAA;AAAEd,IAAAA,QAAQ,EAAE,IAAI;AAAEC,IAAAA,KAAK,EAAE,CAAA;GAAG,CAAA;AAE3E,EAAA,MAAMgB,kBAAkB,GAAG,OAAOC,MAAM,KAAK,WAAW,IAAI,CAAC,EAAA,CAAAN,cAAA,GAAEM,MAAc,CAACC,MAAM,MAAA,IAAA,IAAAP,cAAA,KAArBA,KAAAA,CAAAA,IAAAA,cAAA,CAAuBQ,SAAS,CAAA,CAAA;AAC/F,EAAA,IAAIH,kBAAkB,EAAE;IACtB,OAAQC,MAAc,CAACC,MAAM,CAAA;AAC9B,GAAA;AACD,EAAA,MAAME,WAAW,GAAG,MAAMvB,IAAI,CAAC,MAAA;AAAA,IAAA,IAAAwB,eAAA,CAAA;IAAA,OAAAA,CAAAA,eAAA,GAAOJ,MAAc,CAACC,MAAM,cAAAG,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAArBA,eAAA,CAAuBF,SAAS,CAAA;AAAA,GAAA,EAAEP,OAAO,CAACb,QAAQ,EAAEa,OAAO,CAACZ,KAAK,CAAC,CAAA;AACxG,EAAA,IAAIoB,WAAW,EAAE,OAAQH,MAAc,CAACC,MAAM,CAAA;AAC9C,EAAA,OAAO,IAAI,CAAA;AACb,CAAC;;ACJK,MAAOI,cAAe,SAAQC,iBAAuB,CAAA;EAAAC,WAAA,GAAA;AAAA,IAAA,KAAA,CAAA,GAAAX,SAAA,CAAA,CAAA;IAAAY,eAAA,CAAA,IAAA,EAAA,MAAA,EACjCC,eAAe,CAACC,OAAO,CAAA,CAAA;IAAAF,eAAA,CAAA,IAAA,EAAA,kBAAA,EAEGG,kBAAkB,CAACC,MAAM,CAAA,CAAA;IAAAJ,eAAA,CAAA,IAAA,EAAA,uBAAA,EAEtBK,gBAAgB,CAACD,MAAM,CAAA,CAAA;IAAAJ,eAAA,CAAA,IAAA,EAAA,MAAA,EAErCM,gBAAgB,CAACC,QAAQ,CAAA,CAAA;IAAAP,eAAA,CAAA,IAAA,EAAA,QAAA,EAE3BQ,cAAc,CAACC,SAAS,CAAA,CAAA;AAAAT,IAAAA,eAAA,kBAEb,IAAI,CAAA,CAAA;AAAAA,IAAAA,eAAA,0BAEM,IAAI,CAAA,CAAA;AAAAA,IAAAA,eAAA,wBAgItC,MAAK;MAC3B,IAAI,IAAI,CAACU,OAAO,EAAE;QAChB,IAAI,CAACA,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACC,aAAa,CAAC,CAAA;QAClD,IAAI,CAACC,UAAU,GAAG,KAAK,CAAA;AACvB;AACA,QAAA,IAAI,CAACC,MAAM,GAAG,IAAI,CAACA,MAAM,KAAKN,cAAc,CAACO,SAAS,GAAGP,cAAc,CAACQ,KAAK,GAAGR,cAAc,CAACC,SAAS,CAAA;AACxG,QAAA,IAAI,CAACQ,IAAI,CAACC,cAAc,CAACC,YAAY,CAAC,CAAA;AACvC,OAAA;KACF,CAAA,CAAA;AAAA,GAAA;EAtID,IAAIC,iBAAiBA,GAAA;AAAA,IAAA,IAAAC,aAAA,CAAA;IACnB,OAAO,CAAC,EAAE,CAAAA,aAAA,OAAI,CAACX,OAAO,cAAAW,aAAA,KAAA,KAAA,CAAA,IAAZA,aAAA,CAAcC,WAAW,IAAI,IAAI,CAACR,MAAM,KAAKN,cAAc,CAACO,SAAS,CAAC,CAAA;AAClF,GAAA;EAEA,IAAIQ,QAAQA,GAAA;AAAA,IAAA,IAAAC,qBAAA,CAAA;AACV,IAAA,OAAO,CAAAA,CAAAA,qBAAA,GAAI,IAAA,CAACC,eAAe,MAAA,IAAA,IAAAD,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAApBA,qBAAA,CAAsBD,QAAQ,KAAI,IAAI,CAAA;AAC/C,GAAA;EAEA,IAAIA,QAAQA,CAACG,CAAkC,EAAA;AAC7C,IAAA,MAAM,IAAIC,KAAK,CAAC,iBAAiB,CAAC,CAAA;AACpC,GAAA;EAEA,MAAMC,IAAIA,GAAiC;AAAA,IAAA,IAAhCzC,OAAA,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAA8B,EAAE,CAAA;AACzC,IAAA,MAAM,KAAK,CAACwC,IAAI,CAACzC,OAAO,CAAC,CAAA;IACzB,KAAK,CAAC0C,+BAA+B,EAAE,CAAA;AACvC,IAAA,IAAI,CAACnB,OAAO,GAAG,MAAMzB,cAAc,CAAC;AAAEX,MAAAA,QAAQ,EAAE,GAAG;AAAEC,MAAAA,KAAK,EAAE,CAAA;AAAC,KAAE,CAAC,CAAA;IAChE,IAAI,CAAC,IAAI,CAACmC,OAAO,EAAE,MAAMoB,yBAAyB,CAACC,YAAY,EAAE,CAAA;AACjE,IAAA,IAAI,CAACN,eAAe,GAAG,IAAIO,uBAAuB,CAAC;AAAEC,MAAAA,MAAM,EAAE;QAAEC,WAAW,EAAE,IAAI,CAACA,WAAAA;AAAkC,OAAA;AAAA,KAAE,CAAC,CAAA;AACtH,IAAA,IAAI,CAACpB,MAAM,GAAGN,cAAc,CAACQ,KAAK,CAAA;IAClC,IAAI,CAACC,IAAI,CAACC,cAAc,CAACF,KAAK,EAAEf,eAAe,CAACC,OAAO,CAAC,CAAA;IAExD,IAAI;AACFiC,MAAAA,GAAG,CAACC,KAAK,CAAC,8BAA8B,CAAC,CAAA;MACzC,IAAIjD,OAAO,CAACkD,WAAW,EAAE;QACvB,IAAI,CAACxB,UAAU,GAAG,IAAI,CAAA;QACtB,MAAM,IAAI,CAACyB,OAAO,EAAE,CAAA;AACrB,OAAA;KACF,CAAC,OAAOC,KAAK,EAAE;AACdJ,MAAAA,GAAG,CAACI,KAAK,CAAC,gDAAgD,EAAEA,KAAK,CAAC,CAAA;AAClE,MAAA,IAAI,CAACtB,IAAI,CAAC,SAAS,EAAEsB,KAAK,CAAC,CAAA;AAC5B,KAAA;AACH,GAAA;EAEA,MAAMD,OAAOA,GAAA;AAAA,IAAA,IAAAE,KAAA,GAAA,IAAA,CAAA;IACX,IAAI;MACF,KAAK,CAACC,2BAA2B,EAAE,CAAA;AACnC,MAAA,IAAI,CAAC3B,MAAM,GAAGN,cAAc,CAACkC,UAAU,CAAA;AACvC,MAAA,IAAI,CAACzB,IAAI,CAACC,cAAc,CAACwB,UAAU,EAAE;QAAEC,OAAO,EAAE1C,eAAe,CAACC,OAAAA;AAAO,OAAE,CAAC,CAAA;MAE1E,IAAI,CAAC,IAAI,CAACQ,OAAO,EAAE,MAAMoB,yBAAyB,CAACC,YAAY,EAAE,CAAA;AACjE,MAAA,IAAI,CAAC,IAAI,CAACrB,OAAO,CAACY,WAAW,EAAE;AAC7B,QAAA,MAAMsB,gBAAgB,GAAG,IAAI,CAAClC,OAAO,CAACmC,iBAAiB,CAAA;QACvD,IAAI;AACF,UAAA,MAAM,IAAIrE,OAAO,CAAkC,CAACC,OAAO,EAAEC,MAAM,KAAI;AACrE,YAAA,MAAM4D,OAAO,GAAG,YAAW;AACzB,cAAA,MAAM,IAAI,CAACQ,mBAAmB,CAAC,IAAI,CAACpC,OAAiC,CAAC,CAAA;AACtEjC,cAAAA,OAAO,CAAC,IAAI,CAAC8C,QAAQ,CAAC,CAAA;aACvB,CAAA;AACD,YAAA,IAAI,CAAC,IAAI,CAACb,OAAO,EAAE;AACjBhC,cAAAA,MAAM,CAACoD,yBAAyB,CAACC,YAAY,EAAE,CAAC,CAAA;AAChD,cAAA,OAAA;AACD,aAAA;YACD,IAAI,CAACrB,OAAO,CAACqC,IAAI,CAAC,SAAS,EAAET,OAAO,CAAC,CAAA;AACrC;AACC,YAAA,IAAI,CAAC5B,OAAkC,CAACmC,iBAAiB,GAAG,YAAuB;AAClFnE,cAAAA,MAAM,CAACoD,yBAAyB,CAACkB,YAAY,EAAE,CAAC,CAAA;AAAC,cAAA,KAAA,IAAAC,IAAA,GAAA7D,SAAA,CAAAC,MAAA,EADc6D,IAAe,GAAAC,IAAAA,KAAA,CAAAF,IAAA,GAAAG,IAAA,GAAA,CAAA,EAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA,EAAA,EAAA;AAAfF,gBAAAA,IAAe,CAAAE,IAAA,CAAAhE,GAAAA,SAAA,CAAAgE,IAAA,CAAA,CAAA;AAAA,eAAA;cAE9E,OAAOR,gBAAgB,CAACS,KAAK,CAACb,KAAI,CAAC9B,OAAO,EAAEwC,IAAI,CAAC,CAAA;aAClD,CAAA;YAED,IAAI,CAACxC,OAAO,CAAC4B,OAAO,EAAE,CAACvD,KAAK,CAAEuE,MAAe,IAAI;cAC/C5E,MAAM,CAAC4E,MAAM,CAAC,CAAA;AAChB,aAAC,CAAC,CAAA;AACJ,WAAC,CAAC,CAAA;SACH,CAAC,OAAOf,KAAc,EAAE;AACvB,UAAA,IAAIA,KAAK,YAAYgB,aAAa,EAAE,MAAMhB,KAAK,CAAA;UAC/C,MAAMiB,gBAAgB,CAACC,eAAe,CAAElB,KAAe,KAAfA,IAAAA,IAAAA,KAAe,KAAfA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,KAAe,CAAEmB,OAAO,CAAC,CAAA;AAClE,SAAA,SAAS;AACR,UAAA,IAAI,CAAChD,OAAO,CAACmC,iBAAiB,GAAGD,gBAAgB,CAAA;AAClD,SAAA;AACF,OAAA,MAAM;AACL,QAAA,MAAM,IAAI,CAACE,mBAAmB,CAAC,IAAI,CAACpC,OAAO,CAAC,CAAA;AAC7C,OAAA;MAED,IAAI,CAAC,IAAI,CAACA,OAAO,CAACiD,SAAS,EAAE,MAAMH,gBAAgB,CAACC,eAAe,EAAE,CAAA;MACrE,IAAI,CAAC/C,OAAO,CAACkD,EAAE,CAAC,YAAY,EAAE,IAAI,CAAChD,aAAa,CAAC,CAAA;MAEjD,OAAO,IAAI,CAACW,QAAQ,CAAA;KACrB,CAAC,OAAOgB,KAAc,EAAE;AACvB;AACA,MAAA,IAAI,CAACzB,MAAM,GAAGN,cAAc,CAACQ,KAAK,CAAA;MAClC,IAAI,CAACH,UAAU,GAAG,KAAK,CAAA;MACvB,IAAI,CAACI,IAAI,CAACC,cAAc,CAAC2C,OAAO,EAAEtB,KAAK,CAAC,CAAA;AACxC,MAAA,MAAMA,KAAK,CAAA;AACZ,KAAA;AACH,GAAA;EAEA,MAAMuB,UAAUA,GAAmD;IAAA,IAAlD3E,OAAA,GAAAC,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAE,CAAAA,CAAAA,KAAAA,SAAA,GAAAF,SAAA,CAAgC,CAAA,CAAA,GAAA;AAAE2E,MAAAA,OAAO,EAAE,KAAA;KAAO,CAAA;IACjE,MAAM,KAAK,CAACC,iBAAiB,EAAE,CAAA;IAC/B,IAAI;AAAA,MAAA,IAAAC,cAAA,CAAA;MACF,OAAAA,CAAAA,cAAA,GAAM,IAAI,CAACvD,OAAO,MAAAuD,IAAAA,IAAAA,cAAA,KAAZA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,cAAA,CAAcH,UAAU,EAAE,CAAA,CAAA;MAChC,IAAI3E,OAAO,CAAC4E,OAAO,EAAE;AACnB,QAAA,IAAI,CAACjD,MAAM,GAAGN,cAAc,CAACC,SAAS,CAAA;QACtC,IAAI,CAACgB,eAAe,GAAG,IAAI,CAAA;QAC3B,IAAI,CAACf,OAAO,GAAG,IAAI,CAAA;AACpB,OAAA;MACD,MAAM,KAAK,CAACoD,UAAU,EAAE,CAAA;KACzB,CAAC,OAAOvB,KAAc,EAAE;AACvB,MAAA,IAAI,CAACtB,IAAI,CAACC,cAAc,CAAC2C,OAAO,EAAEL,gBAAgB,CAACU,kBAAkB,CAAE3B,KAAe,aAAfA,KAAe,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAfA,KAAe,CAAEmB,OAAO,CAAC,CAAC,CAAA;AAClG,KAAA;AACH,GAAA;EAEA,MAAMS,WAAWA,GAAA;IACf,IAAI,CAAC,IAAI,CAAC/C,iBAAiB,EAAE,MAAMoC,gBAAgB,CAACY,iBAAiB,CAAC,uDAAuD,CAAC,CAAA;AAC9H,IAAA,OAAO,EAAE,CAAA;AACX,GAAA;EAEO,MAAMC,QAAQA,CAACnC,WAA8B,EAAc;AAAA,IAAA,IAAAoC,sBAAA,CAAA;AAAA,IAAA,IAAZ1C,IAAI,GAAAxC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;AAChE,IAAA,KAAK,CAACmF,yBAAyB,CAAC3C,IAAI,CAAC,CAAA;AACrC,IAAA,CAAA0C,sBAAA,GAAA,IAAI,CAAC7C,eAAe,MAAA6C,IAAAA,IAAAA,sBAAA,KAApBA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,sBAAA,CAAsBD,QAAQ,CAACnC,WAAW,CAAC,CAAA;AAC3C,IAAA,IAAI,CAACsC,cAAc,CAACtC,WAAW,CAAC,CAAA;AAClC,GAAA;EAEO,MAAMuC,WAAWA,CAACC,MAA2B,EAAc;AAAA,IAAA,IAAAC,sBAAA,CAAA;AAAA,IAAA,IAAZ/C,IAAI,GAAAxC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,KAAK,CAAA;AAChE,IAAA,KAAK,CAACwF,4BAA4B,CAACF,MAAM,EAAE9C,IAAI,CAAC,CAAA;AAChD,IAAA,OAAA,CAAA+C,sBAAA,GAAM,IAAI,CAAClD,eAAe,MAAA,IAAA,IAAAkD,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAApBA,sBAAA,CAAsBF,WAAW,CAACC,MAAM,CAAC,CAAA,CAAA;IAC/C,IAAI,CAACG,kBAAkB,CAAC;AAAE3C,MAAAA,WAAW,EAAE,IAAI,CAAC4C,cAAc,CAACJ,MAAM,CAACK,OAAO,CAAA;AAAsB,KAAE,CAAC,CAAA;AACpG,GAAA;EAEQ,MAAMjC,mBAAmBA,CAACkC,gBAAwC,EAAA;IACxE,IAAI,CAAC,IAAI,CAACvD,eAAe,EAAE,MAAM+B,gBAAgB,CAACC,eAAe,CAAC,qBAAqB,CAAC,CAAA;AACxF,IAAA,MAAM,IAAI,CAAChC,eAAe,CAACwD,aAAa,CAACD,gBAAgB,CAAC,CAAA;AAC1D,IAAA,IAAI,CAAClE,MAAM,GAAGN,cAAc,CAACO,SAAS,CAAA;AACtC,IAAA,IAAI,CAACE,IAAI,CAACC,cAAc,CAACH,SAAS,EAAE;MAAE4B,OAAO,EAAE1C,eAAe,CAACC,OAAO;MAAEgF,WAAW,EAAE,IAAI,CAACrE,UAAAA;AAAoC,KAAA,CAAC,CAAA;IAC/H,OAAO,IAAI,CAACU,QAAQ,CAAA;AACtB,GAAA;AAWD;;;;"}